{"ast":null,"code":"function _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nimport React, { Fragment, useState, useMemo } from 'react';\nimport classNames from 'classnames'; // @ts-ignore-next-line\n\nimport { EuiPopover, EuiPopoverFooter, EuiPopoverTitle } from '../popover';\nimport { EuiI18n } from '../i18n'; // @ts-ignore-next-line\n\nimport { EuiButtonEmpty } from '../button';\nimport { EuiFlexGroup, EuiFlexItem } from '../flex'; // @ts-ignore-next-line\n\nimport { EuiSwitch, EuiFieldText } from '../form';\nimport { EuiDragDropContext, EuiDraggable, EuiDroppable, euiDragDropReorder } from '../drag_and_drop';\nimport { EuiIcon } from '../icon';\nimport { useDependentState } from '../../services';\nexport var useColumnSelector = function useColumnSelector(availableColumns, columnVisibility) {\n  var _useDependentState = useDependentState(function () {\n    return availableColumns.map(function (_ref) {\n      var id = _ref.id;\n      return id;\n    });\n  }, [availableColumns]),\n      _useDependentState2 = _slicedToArray(_useDependentState, 2),\n      sortedColumns = _useDependentState2[0],\n      setSortedColumns = _useDependentState2[1];\n\n  var visibleColumns = columnVisibility.visibleColumns,\n      setVisibleColumns = columnVisibility.setVisibleColumns;\n  var visibleColumnIds = new Set(visibleColumns);\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      isOpen = _useState2[0],\n      setIsOpen = _useState2[1];\n\n  function onDragEnd(_ref2) {\n    var sourceIndex = _ref2.source.index,\n        destination = _ref2.destination;\n    var destinationIndex = destination.index;\n    var nextSortedColumns = euiDragDropReorder(sortedColumns, sourceIndex, destinationIndex);\n    setSortedColumns(nextSortedColumns);\n    var nextVisibleColumns = nextSortedColumns.filter(function (id) {\n      return visibleColumnIds.has(id);\n    });\n    setVisibleColumns(nextVisibleColumns);\n  }\n\n  var numberOfHiddenFields = availableColumns.length - visibleColumns.length;\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      columnSearchText = _useState4[0],\n      setColumnSearchText = _useState4[1];\n\n  var controlBtnClasses = classNames('euiDataGrid__controlBtn', {\n    'euiDataGrid__controlBtn--active': numberOfHiddenFields > 0\n  });\n  var filteredColumns = sortedColumns.filter(function (id) {\n    return id.toLowerCase().indexOf(columnSearchText.toLowerCase()) !== -1;\n  });\n  var isDragEnabled = columnSearchText.length === 0; // only allow drag-and-drop when not filtering columns\n\n  var columnSelector = React.createElement(EuiPopover, {\n    \"data-test-subj\": \"dataGridColumnSelectorPopover\",\n    isOpen: isOpen,\n    closePopover: function closePopover() {\n      return setIsOpen(false);\n    },\n    anchorPosition: \"downLeft\",\n    ownFocus: true,\n    panelPaddingSize: \"s\",\n    panelClassName: \"euiDataGridColumnSelectorPopover\",\n    button: React.createElement(EuiI18n, {\n      tokens: ['euiColumnSelector.button', 'euiColumnSelector.buttonActive'],\n      defaults: ['Hide fields', 'fields hidden']\n    }, function (_ref3) {\n      var _ref4 = _slicedToArray(_ref3, 2),\n          button = _ref4[0],\n          buttonActive = _ref4[1];\n\n      return React.createElement(EuiButtonEmpty, {\n        size: \"xs\",\n        iconType: \"eyeClosed\",\n        color: \"text\",\n        className: controlBtnClasses,\n        \"data-test-subj\": \"dataGridColumnSelectorButton\",\n        onClick: function onClick() {\n          return setIsOpen(!isOpen);\n        }\n      }, numberOfHiddenFields > 0 ? \"\".concat(numberOfHiddenFields, \" \").concat(buttonActive) : button);\n    })\n  }, React.createElement(\"div\", null, React.createElement(EuiPopoverTitle, null, React.createElement(EuiI18n, {\n    tokens: ['euiColumnSelector.search', 'euiColumnSelector.searchcolumns'],\n    defaults: ['Search', 'Search columns']\n  }, function (_ref5) {\n    var _ref6 = _slicedToArray(_ref5, 2),\n        search = _ref6[0],\n        searchcolumns = _ref6[1];\n\n    return React.createElement(EuiFieldText, {\n      compressed: true,\n      placeholder: search,\n      \"aria-label\": searchcolumns,\n      value: columnSearchText,\n      onChange: function onChange(e) {\n        return setColumnSearchText(e.currentTarget.value);\n      }\n    });\n  })), React.createElement(EuiDragDropContext, {\n    onDragEnd: onDragEnd\n  }, React.createElement(EuiDroppable, {\n    droppableId: \"columnOrder\",\n    isDropDisabled: !isDragEnabled,\n    className: \"euiDataGridColumnSelector\"\n  }, React.createElement(Fragment, null, filteredColumns.map(function (id, index) {\n    return React.createElement(EuiDraggable, {\n      key: id,\n      draggableId: id,\n      index: index,\n      isDragDisabled: !isDragEnabled\n    }, function (provided, state) {\n      return React.createElement(\"div\", {\n        className: \"euiDataGridColumnSelector__item \".concat(state.isDragging && 'euiDataGridColumnSelector__item-isDragging')\n      }, React.createElement(EuiFlexGroup, {\n        gutterSize: \"m\",\n        alignItems: \"center\"\n      }, React.createElement(EuiFlexItem, null, React.createElement(EuiSwitch, {\n        name: id,\n        label: id,\n        checked: visibleColumnIds.has(id),\n        compressed: true,\n        className: \"euiSwitch--mini\",\n        onChange: function onChange(_ref7) {\n          var checked = _ref7.currentTarget.checked;\n          var nextVisibleColumns = sortedColumns.filter(function (columnId) {\n            return checked ? visibleColumnIds.has(columnId) || id === columnId : visibleColumnIds.has(columnId) && id !== columnId;\n          });\n          setVisibleColumns(nextVisibleColumns);\n        }\n      })), isDragEnabled && React.createElement(EuiFlexItem, {\n        grow: false\n      }, React.createElement(EuiIcon, {\n        type: \"grab\",\n        color: \"subdued\"\n      }))));\n    });\n  }))))), React.createElement(EuiPopoverFooter, null, React.createElement(EuiFlexGroup, {\n    gutterSize: \"s\",\n    justifyContent: \"spaceBetween\"\n  }, React.createElement(EuiFlexItem, null, React.createElement(EuiButtonEmpty, {\n    size: \"xs\",\n    flush: \"left\",\n    onClick: function onClick() {\n      return setVisibleColumns(sortedColumns);\n    }\n  }, React.createElement(EuiI18n, {\n    token: \"euiColumnSelector.selectAll\",\n    default: \"Show all\"\n  }))), React.createElement(EuiFlexItem, null, React.createElement(EuiButtonEmpty, {\n    size: \"xs\",\n    flush: \"right\",\n    onClick: function onClick() {\n      return setVisibleColumns([]);\n    }\n  }, React.createElement(EuiI18n, {\n    token: \"euiColumnSelector.hideAll\",\n    default: \"Hide all\"\n  }))))));\n  var orderedVisibleColumns = useMemo(function () {\n    return visibleColumns.map(function (columnId) {\n      return availableColumns.find(function (_ref8) {\n        var id = _ref8.id;\n        return id === columnId;\n      });\n    } // cast to avoid `undefined`, it filters those out next\n    ).filter(function (column) {\n      return column != null;\n    });\n  }, [availableColumns, visibleColumns]);\n  return [columnSelector, orderedVisibleColumns];\n};","map":{"version":3,"sources":["/home/ad.rapidops.com/jaymin.shah/project/demostruct/node_modules/@elastic/eui/es/components/datagrid/column_selector.js"],"names":["_slicedToArray","arr","i","_arrayWithHoles","_iterableToArrayLimit","_nonIterableRest","TypeError","Symbol","iterator","Object","prototype","toString","call","_arr","_n","_d","_e","undefined","_i","_s","next","done","push","value","length","err","Array","isArray","React","Fragment","useState","useMemo","classNames","EuiPopover","EuiPopoverFooter","EuiPopoverTitle","EuiI18n","EuiButtonEmpty","EuiFlexGroup","EuiFlexItem","EuiSwitch","EuiFieldText","EuiDragDropContext","EuiDraggable","EuiDroppable","euiDragDropReorder","EuiIcon","useDependentState","useColumnSelector","availableColumns","columnVisibility","_useDependentState","map","_ref","id","_useDependentState2","sortedColumns","setSortedColumns","visibleColumns","setVisibleColumns","visibleColumnIds","Set","_useState","_useState2","isOpen","setIsOpen","onDragEnd","_ref2","sourceIndex","source","index","destination","destinationIndex","nextSortedColumns","nextVisibleColumns","filter","has","numberOfHiddenFields","_useState3","_useState4","columnSearchText","setColumnSearchText","controlBtnClasses","filteredColumns","toLowerCase","indexOf","isDragEnabled","columnSelector","createElement","closePopover","anchorPosition","ownFocus","panelPaddingSize","panelClassName","button","tokens","defaults","_ref3","_ref4","buttonActive","size","iconType","color","className","onClick","concat","_ref5","_ref6","search","searchcolumns","compressed","placeholder","onChange","e","currentTarget","droppableId","isDropDisabled","key","draggableId","isDragDisabled","provided","state","isDragging","gutterSize","alignItems","name","label","checked","_ref7","columnId","grow","type","justifyContent","flush","token","default","orderedVisibleColumns","find","_ref8","column"],"mappings":"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","sourcesContent":["function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport React, { Fragment, useState, useMemo } from 'react';\nimport classNames from 'classnames';\n// @ts-ignore-next-line\nimport { EuiPopover, EuiPopoverFooter, EuiPopoverTitle } from '../popover';\nimport { EuiI18n } from '../i18n'; // @ts-ignore-next-line\n\nimport { EuiButtonEmpty } from '../button';\nimport { EuiFlexGroup, EuiFlexItem } from '../flex'; // @ts-ignore-next-line\n\nimport { EuiSwitch, EuiFieldText } from '../form';\nimport { EuiDragDropContext, EuiDraggable, EuiDroppable, euiDragDropReorder } from '../drag_and_drop';\nimport { EuiIcon } from '../icon';\nimport { useDependentState } from '../../services';\nexport var useColumnSelector = function useColumnSelector(availableColumns, columnVisibility) {\n  var _useDependentState = useDependentState(function () {\n    return availableColumns.map(function (_ref) {\n      var id = _ref.id;\n      return id;\n    });\n  }, [availableColumns]),\n      _useDependentState2 = _slicedToArray(_useDependentState, 2),\n      sortedColumns = _useDependentState2[0],\n      setSortedColumns = _useDependentState2[1];\n\n  var visibleColumns = columnVisibility.visibleColumns,\n      setVisibleColumns = columnVisibility.setVisibleColumns;\n  var visibleColumnIds = new Set(visibleColumns);\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      isOpen = _useState2[0],\n      setIsOpen = _useState2[1];\n\n  function onDragEnd(_ref2) {\n    var sourceIndex = _ref2.source.index,\n        destination = _ref2.destination;\n    var destinationIndex = destination.index;\n    var nextSortedColumns = euiDragDropReorder(sortedColumns, sourceIndex, destinationIndex);\n    setSortedColumns(nextSortedColumns);\n    var nextVisibleColumns = nextSortedColumns.filter(function (id) {\n      return visibleColumnIds.has(id);\n    });\n    setVisibleColumns(nextVisibleColumns);\n  }\n\n  var numberOfHiddenFields = availableColumns.length - visibleColumns.length;\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      columnSearchText = _useState4[0],\n      setColumnSearchText = _useState4[1];\n\n  var controlBtnClasses = classNames('euiDataGrid__controlBtn', {\n    'euiDataGrid__controlBtn--active': numberOfHiddenFields > 0\n  });\n  var filteredColumns = sortedColumns.filter(function (id) {\n    return id.toLowerCase().indexOf(columnSearchText.toLowerCase()) !== -1;\n  });\n  var isDragEnabled = columnSearchText.length === 0; // only allow drag-and-drop when not filtering columns\n\n  var columnSelector = React.createElement(EuiPopover, {\n    \"data-test-subj\": \"dataGridColumnSelectorPopover\",\n    isOpen: isOpen,\n    closePopover: function closePopover() {\n      return setIsOpen(false);\n    },\n    anchorPosition: \"downLeft\",\n    ownFocus: true,\n    panelPaddingSize: \"s\",\n    panelClassName: \"euiDataGridColumnSelectorPopover\",\n    button: React.createElement(EuiI18n, {\n      tokens: ['euiColumnSelector.button', 'euiColumnSelector.buttonActive'],\n      defaults: ['Hide fields', 'fields hidden']\n    }, function (_ref3) {\n      var _ref4 = _slicedToArray(_ref3, 2),\n          button = _ref4[0],\n          buttonActive = _ref4[1];\n\n      return React.createElement(EuiButtonEmpty, {\n        size: \"xs\",\n        iconType: \"eyeClosed\",\n        color: \"text\",\n        className: controlBtnClasses,\n        \"data-test-subj\": \"dataGridColumnSelectorButton\",\n        onClick: function onClick() {\n          return setIsOpen(!isOpen);\n        }\n      }, numberOfHiddenFields > 0 ? \"\".concat(numberOfHiddenFields, \" \").concat(buttonActive) : button);\n    })\n  }, React.createElement(\"div\", null, React.createElement(EuiPopoverTitle, null, React.createElement(EuiI18n, {\n    tokens: ['euiColumnSelector.search', 'euiColumnSelector.searchcolumns'],\n    defaults: ['Search', 'Search columns']\n  }, function (_ref5) {\n    var _ref6 = _slicedToArray(_ref5, 2),\n        search = _ref6[0],\n        searchcolumns = _ref6[1];\n\n    return React.createElement(EuiFieldText, {\n      compressed: true,\n      placeholder: search,\n      \"aria-label\": searchcolumns,\n      value: columnSearchText,\n      onChange: function onChange(e) {\n        return setColumnSearchText(e.currentTarget.value);\n      }\n    });\n  })), React.createElement(EuiDragDropContext, {\n    onDragEnd: onDragEnd\n  }, React.createElement(EuiDroppable, {\n    droppableId: \"columnOrder\",\n    isDropDisabled: !isDragEnabled,\n    className: \"euiDataGridColumnSelector\"\n  }, React.createElement(Fragment, null, filteredColumns.map(function (id, index) {\n    return React.createElement(EuiDraggable, {\n      key: id,\n      draggableId: id,\n      index: index,\n      isDragDisabled: !isDragEnabled\n    }, function (provided, state) {\n      return React.createElement(\"div\", {\n        className: \"euiDataGridColumnSelector__item \".concat(state.isDragging && 'euiDataGridColumnSelector__item-isDragging')\n      }, React.createElement(EuiFlexGroup, {\n        gutterSize: \"m\",\n        alignItems: \"center\"\n      }, React.createElement(EuiFlexItem, null, React.createElement(EuiSwitch, {\n        name: id,\n        label: id,\n        checked: visibleColumnIds.has(id),\n        compressed: true,\n        className: \"euiSwitch--mini\",\n        onChange: function onChange(_ref7) {\n          var checked = _ref7.currentTarget.checked;\n          var nextVisibleColumns = sortedColumns.filter(function (columnId) {\n            return checked ? visibleColumnIds.has(columnId) || id === columnId : visibleColumnIds.has(columnId) && id !== columnId;\n          });\n          setVisibleColumns(nextVisibleColumns);\n        }\n      })), isDragEnabled && React.createElement(EuiFlexItem, {\n        grow: false\n      }, React.createElement(EuiIcon, {\n        type: \"grab\",\n        color: \"subdued\"\n      }))));\n    });\n  }))))), React.createElement(EuiPopoverFooter, null, React.createElement(EuiFlexGroup, {\n    gutterSize: \"s\",\n    justifyContent: \"spaceBetween\"\n  }, React.createElement(EuiFlexItem, null, React.createElement(EuiButtonEmpty, {\n    size: \"xs\",\n    flush: \"left\",\n    onClick: function onClick() {\n      return setVisibleColumns(sortedColumns);\n    }\n  }, React.createElement(EuiI18n, {\n    token: \"euiColumnSelector.selectAll\",\n    default: \"Show all\"\n  }))), React.createElement(EuiFlexItem, null, React.createElement(EuiButtonEmpty, {\n    size: \"xs\",\n    flush: \"right\",\n    onClick: function onClick() {\n      return setVisibleColumns([]);\n    }\n  }, React.createElement(EuiI18n, {\n    token: \"euiColumnSelector.hideAll\",\n    default: \"Hide all\"\n  }))))));\n  var orderedVisibleColumns = useMemo(function () {\n    return visibleColumns.map(function (columnId) {\n      return availableColumns.find(function (_ref8) {\n        var id = _ref8.id;\n        return id === columnId;\n      });\n    } // cast to avoid `undefined`, it filters those out next\n    ).filter(function (column) {\n      return column != null;\n    });\n  }, [availableColumns, visibleColumns]);\n  return [columnSelector, orderedVisibleColumns];\n};"]},"metadata":{},"sourceType":"module"}