{"ast":null,"code":"function _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n/**\n * Elements within EuiComboBox which would normally be tabbable (inputs, buttons) have been removed\n * from the tab order with tabindex=\"-1\" so that we can control the keyboard navigation interface.\n */\n\n/* eslint-disable jsx-a11y/role-has-required-aria-props */\n\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { comboBoxKeyCodes, findPopoverPosition, htmlIdGenerator } from '../../services';\nimport { BACKSPACE, TAB, ESCAPE } from '../../services/key_codes';\nimport { EuiPortal } from '../portal';\nimport { EuiComboBoxInput } from './combo_box_input';\nimport { EuiComboBoxOptionsList } from './combo_box_options_list';\nimport { getMatchingOptions, flattenOptionGroups, getSelectedOptionForSearchValue } from './matching_options';\nexport var EuiComboBox =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(EuiComboBox, _Component);\n\n  function EuiComboBox(props) {\n    var _this;\n\n    _classCallCheck(this, EuiComboBox);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(EuiComboBox).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"openList\", function () {\n      _this.setState({\n        isListOpen: true\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"closeList\", function () {\n      _this.clearActiveOption();\n\n      _this.setState({\n        isListOpen: false\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"updateListPosition\", function () {\n      var listElement = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _this.state.listElement;\n\n      if (!_this._isMounted) {\n        return;\n      }\n\n      if (!_this.state.isListOpen) {\n        return;\n      }\n\n      if (!listElement) {\n        return;\n      } // it's possible that updateListPosition is called when listElement is becoming visible, but isn't yet\n\n\n      var listElementBounds = listElement.getBoundingClientRect();\n\n      if (listElementBounds.width === 0 || listElementBounds.height === 0) {\n        return;\n      }\n\n      var comboBoxBounds = _this.comboBox.getBoundingClientRect();\n\n      var _findPopoverPosition = findPopoverPosition({\n        anchor: _this.comboBox,\n        popover: listElement,\n        position: 'bottom',\n        allowCrossAxis: false\n      }),\n          position = _findPopoverPosition.position,\n          top = _findPopoverPosition.top;\n\n      _this.optionsList.style.top = \"\".concat(top, \"px\"); // listElement doesn't have its width set until after updating the position\n      // which means the popover service won't know about the correct width\n      // however, we already know where to position the element\n\n      _this.optionsList.style.left = \"\".concat(comboBoxBounds.left + window.pageXOffset, \"px\");\n      _this.optionsList.style.width = \"\".concat(comboBoxBounds.width, \"px\"); // Cache for future calls.\n\n      _this.setState({\n        listElement: listElement,\n        width: comboBoxBounds.width,\n        listPosition: position\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"incrementActiveOptionIndex\", function (amount) {\n      // If there are no options available, do nothing.\n      if (!_this.state.matchingOptions.length) {\n        return;\n      }\n\n      _this.setState(function (_ref) {\n        var activeOptionIndex = _ref.activeOptionIndex,\n            matchingOptions = _ref.matchingOptions;\n        var nextActiveOptionIndex;\n\n        if (activeOptionIndex < 0) {\n          // If this is the beginning of the user's keyboard navigation of the menu, then we'll focus\n          // either the first or last item.\n          nextActiveOptionIndex = amount < 0 ? matchingOptions.length - 1 : 0;\n        } else {\n          nextActiveOptionIndex = activeOptionIndex + amount;\n\n          if (nextActiveOptionIndex < 0) {\n            nextActiveOptionIndex = matchingOptions.length - 1;\n          } else if (nextActiveOptionIndex === matchingOptions.length) {\n            nextActiveOptionIndex = 0;\n          }\n        } // Group titles are included in option list but are not selectable\n        // Skip group title options\n\n\n        var direction = amount > 0 ? 1 : -1;\n\n        while (matchingOptions[nextActiveOptionIndex].isGroupLabelOption) {\n          nextActiveOptionIndex = nextActiveOptionIndex + direction;\n\n          if (nextActiveOptionIndex < 0) {\n            nextActiveOptionIndex = matchingOptions.length - 1;\n          } else if (nextActiveOptionIndex === matchingOptions.length) {\n            nextActiveOptionIndex = 0;\n          }\n        }\n\n        return {\n          activeOptionIndex: nextActiveOptionIndex\n        };\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"hasActiveOption\", function () {\n      return _this.state.activeOptionIndex > -1 && _this.state.activeOptionIndex < _this.state.matchingOptions.length;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"clearActiveOption\", function () {\n      _this.setState({\n        activeOptionIndex: -1\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"clearSearchValue\", function () {\n      _this.onSearchChange('');\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"removeLastOption\", function () {\n      if (!_this.props.selectedOptions.length) {\n        return;\n      } // Backspace will be used to delete the input, not a pill.\n\n\n      if (_this.state.searchValue.length) {\n        return;\n      } // Delete last pill.\n\n\n      _this.onRemoveOption(_this.props.selectedOptions[_this.props.selectedOptions.length - 1]);\n\n      if (_this.props.singleSelection && !_this.state.isListOpen) {\n        _this.openList();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"addCustomOption\", function (isContainerBlur) {\n      var _this$props = _this.props,\n          options = _this$props.options,\n          selectedOptions = _this$props.selectedOptions,\n          onCreateOption = _this$props.onCreateOption,\n          singleSelection = _this$props.singleSelection;\n      var _this$state = _this.state,\n          searchValue = _this$state.searchValue,\n          matchingOptions = _this$state.matchingOptions;\n\n      if (_this.doesSearchMatchOnlyOption()) {\n        _this.onAddOption(matchingOptions[0], isContainerBlur);\n\n        return;\n      }\n\n      if (!onCreateOption) {\n        return;\n      } // Don't bother trying to create an option if the user hasn't typed anything.\n\n\n      if (!searchValue) {\n        return;\n      } // Don't create the value if it's already been selected.\n\n\n      if (getSelectedOptionForSearchValue(searchValue, selectedOptions)) {\n        return;\n      } // Add new custom pill if this is custom input, even if it partially matches an option..\n\n\n      var isOptionCreated = _this.props.onCreateOption(searchValue, flattenOptionGroups(options)); // Expect the consumer to be explicit in rejecting a custom option.\n\n\n      if (isOptionCreated === false) {\n        return;\n      }\n\n      _this.clearSearchValue();\n\n      if (_this.isSingleSelectionCustomOption() || singleSelection && matchingOptions.length < 1) {\n        // Adding a custom option to a single select that does not appear in the list of options\n        _this.closeList();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"doesSearchMatchOnlyOption\", function () {\n      var searchValue = _this.state.searchValue;\n\n      if (_this.state.matchingOptions.length !== 1) {\n        return false;\n      }\n\n      return _this.state.matchingOptions[0].label.toLowerCase() === searchValue.toLowerCase();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"areAllOptionsSelected\", function () {\n      var _this$props2 = _this.props,\n          options = _this$props2.options,\n          selectedOptions = _this$props2.selectedOptions,\n          async = _this$props2.async; // Assume if this is async then there could be infinite options.\n\n      if (async) {\n        return false;\n      }\n\n      return flattenOptionGroups(options).length === selectedOptions.length;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"isSingleSelectionCustomOption\", function () {\n      var _this$props3 = _this.props,\n          onCreateOption = _this$props3.onCreateOption,\n          options = _this$props3.options,\n          selectedOptions = _this$props3.selectedOptions,\n          singleSelection = _this$props3.singleSelection; // The selected option of a single select is custom and does not appear in the list of options\n\n      return singleSelection && onCreateOption && selectedOptions.length > 0 && !options.includes(selectedOptions[0]);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onComboBoxFocus\", function () {\n      if (_this.props.onFocus) {\n        _this.props.onFocus();\n      }\n\n      if (!_this.isSingleSelectionCustomOption()) {\n        _this.openList();\n      }\n\n      _this.setState({\n        hasFocus: true\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onContainerBlur\", function (e) {\n      // close the options list, unless the use clicked on an option\n      // FireFox returns `relatedTarget` as `null` for security reasons, but provides a proprietary `explicitOriginalTarget`\n      var relatedTarget = e.relatedTarget || e.explicitOriginalTarget;\n\n      var focusedInOptionsList = relatedTarget && _this.optionsList && _this.optionsList.contains(relatedTarget);\n\n      var focusedInInput = relatedTarget && _this.comboBox && _this.comboBox.contains(relatedTarget);\n\n      if (!focusedInOptionsList && !focusedInInput) {\n        _this.closeList();\n\n        if (_this.props.onBlur) {\n          _this.props.onBlur();\n        }\n\n        _this.setState({\n          hasFocus: false\n        }); // If the user tabs away or changes focus to another element, take whatever input they've\n        // typed and convert it into a pill, to prevent the combo box from looking like a text input.\n\n\n        if (!_this.hasActiveOption()) {\n          _this.addCustomOption(true);\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onKeyDown\", function (e) {\n      switch (e.keyCode) {\n        case comboBoxKeyCodes.UP:\n          e.preventDefault();\n          e.stopPropagation();\n\n          if (_this.state.isListOpen) {\n            _this.incrementActiveOptionIndex(-1);\n          } else {\n            _this.openList();\n          }\n\n          break;\n\n        case comboBoxKeyCodes.DOWN:\n          e.preventDefault();\n          e.stopPropagation();\n\n          if (_this.state.isListOpen) {\n            _this.incrementActiveOptionIndex(1);\n          } else {\n            _this.openList();\n          }\n\n          break;\n\n        case BACKSPACE:\n          e.stopPropagation();\n\n          _this.removeLastOption();\n\n          break;\n\n        case ESCAPE:\n          e.stopPropagation();\n\n          _this.closeList();\n\n          break;\n\n        case comboBoxKeyCodes.ENTER:\n          e.preventDefault();\n          e.stopPropagation();\n\n          if (_this.hasActiveOption()) {\n            _this.onAddOption(_this.state.matchingOptions[_this.state.activeOptionIndex]);\n          } else {\n            _this.addCustomOption();\n          }\n\n          break;\n\n        case TAB:\n          // Disallow tabbing when the user is navigating the options.\n          if (_this.hasActiveOption() && _this.state.isListOpen) {\n            e.preventDefault();\n            e.stopPropagation();\n          }\n\n          break;\n\n        default:\n          if (_this.props.onKeyDown) {\n            _this.props.onKeyDown(e);\n          }\n\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onOptionEnterKey\", function (option) {\n      _this.onAddOption(option);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onOptionClick\", function (option) {\n      _this.onAddOption(option);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onAddOption\", function (addedOption, isContainerBlur) {\n      if (addedOption.disabled) {\n        return;\n      }\n\n      var _this$props4 = _this.props,\n          onChange = _this$props4.onChange,\n          selectedOptions = _this$props4.selectedOptions,\n          singleSelection = _this$props4.singleSelection;\n      onChange(singleSelection ? [addedOption] : selectedOptions.concat(addedOption));\n\n      _this.clearSearchValue();\n\n      _this.clearActiveOption();\n\n      if (!isContainerBlur) {\n        _this.searchInput.focus();\n      }\n\n      if (singleSelection) {\n        requestAnimationFrame(_this.closeList);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onRemoveOption\", function (removedOption) {\n      var _this$props5 = _this.props,\n          onChange = _this$props5.onChange,\n          selectedOptions = _this$props5.selectedOptions;\n      onChange(selectedOptions.filter(function (option) {\n        return option !== removedOption;\n      }));\n\n      _this.clearActiveOption();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"clearSelectedOptions\", function () {\n      _this.props.onChange([]); // Clicking the clear button will also cause it to disappear. This would result in focus\n      // shifting unexpectedly to the body element so we set it to the input which is more reasonable,\n\n\n      _this.searchInput.focus();\n\n      if (!_this.state.isListOpen) {\n        _this.openList();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onComboBoxClick\", function () {\n      // When the user clicks anywhere on the box, enter the interaction state.\n      _this.searchInput.focus(); // If the user does this from a state in which an option has focus, then we need to reset it or clear it.\n\n\n      if (_this.props.singleSelection && _this.props.selectedOptions.length === 1) {\n        _this.setState({\n          activeOptionIndex: _this.state.matchingOptions.indexOf(_this.props.selectedOptions[0])\n        });\n      } else {\n        _this.clearActiveOption();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onOpenListClick\", function () {\n      _this.searchInput.focus();\n\n      if (!_this.state.isListOpen) {\n        _this.openList();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onCloseListClick\", function () {\n      _this.closeList();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSearchChange\", function (searchValue) {\n      if (_this.props.onSearchChange) {\n        var hasMatchingOptions = _this.state.matchingOptions.length > 0;\n\n        _this.props.onSearchChange(searchValue, hasMatchingOptions);\n      }\n\n      _this.setState({\n        searchValue: searchValue\n      }, function () {\n        if (searchValue && _this.state.isListOpen === false) _this.openList();\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"comboBoxRef\", function (node) {\n      // IE11 doesn't support the `relatedTarget` event property for blur events\n      // but does add it for focusout. React doesn't support `onFocusOut` so here we are.\n      if (_this.comboBox != null) {\n        _this.comboBox.removeEventListener('focusout', _this.onContainerBlur);\n      }\n\n      _this.comboBox = node;\n\n      if (_this.comboBox) {\n        _this.comboBox.addEventListener('focusout', _this.onContainerBlur);\n\n        var comboBoxBounds = _this.comboBox.getBoundingClientRect();\n\n        _this.setState({\n          width: comboBoxBounds.width\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"autoSizeInputRef\", function (node) {\n      _this.autoSizeInput = node;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"searchInputRef\", function (node) {\n      _this.searchInput = node;\n\n      if (_this.props.inputRef) {\n        _this.props.inputRef(node);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"optionsListRef\", function (node) {\n      _this.optionsList = node;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"optionRef\", function (index, node) {\n      _this.options[index] = node;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"toggleButtonRef\", function (node) {\n      _this.toggleButton = node;\n    });\n\n    var initialSearchValue = '';\n    var _options = props.options,\n        _selectedOptions = props.selectedOptions,\n        _singleSelection = props.singleSelection;\n    _this.state = {\n      matchingOptions: getMatchingOptions(_options, _selectedOptions, initialSearchValue, props.async, _singleSelection),\n      listElement: undefined,\n      searchValue: initialSearchValue,\n      isListOpen: false,\n      listPosition: 'bottom',\n      activeOptionIndex: -1,\n      hasFocus: false\n    };\n    _this.rootId = htmlIdGenerator(); // Refs.\n\n    _this.comboBox = undefined;\n    _this.autoSizeInput = undefined;\n    _this.searchInput = undefined;\n    _this.optionsList = undefined;\n    _this.options = [];\n    return _this;\n  }\n\n  _createClass(EuiComboBox, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this._isMounted = true; // TODO: This will need to be called once the actual stylesheet loads.\n\n      setTimeout(function () {\n        if (_this2.autoSizeInput) {\n          _this2.autoSizeInput.copyInputStyles();\n        }\n      }, 100);\n    }\n  }, {\n    key: \"updateMatchingOptionsIfDifferent\",\n    value: function updateMatchingOptionsIfDifferent(newMatchingOptions) {\n      var _this$state2 = this.state,\n          matchingOptions = _this$state2.matchingOptions,\n          activeOptionIndex = _this$state2.activeOptionIndex;\n      var _this$props6 = this.props,\n          singleSelection = _this$props6.singleSelection,\n          selectedOptions = _this$props6.selectedOptions;\n      var areOptionsDifferent = false;\n\n      if (matchingOptions.length !== newMatchingOptions.length) {\n        areOptionsDifferent = true;\n      } else {\n        for (var i = 0; i < matchingOptions.length; i++) {\n          if (matchingOptions[i].label !== newMatchingOptions[i].label) {\n            areOptionsDifferent = true;\n            break;\n          }\n        }\n      }\n\n      if (areOptionsDifferent) {\n        this.options = [];\n        var nextActiveOptionIndex = activeOptionIndex; // ensure that the currently selected single option is active if it is in the matchingOptions\n\n        if (singleSelection && selectedOptions.length === 1) {\n          if (newMatchingOptions.includes(selectedOptions[0])) {\n            nextActiveOptionIndex = newMatchingOptions.indexOf(selectedOptions[0]);\n          }\n        }\n\n        this.setState({\n          matchingOptions: newMatchingOptions,\n          activeOptionIndex: nextActiveOptionIndex\n        });\n\n        if (!newMatchingOptions.length) {\n          // Prevent endless setState -> componentWillUpdate -> setState loop.\n          if (this.hasActiveOption()) {\n            this.clearActiveOption();\n          }\n        }\n      }\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      var _this$props7 = this.props,\n          options = _this$props7.options,\n          selectedOptions = _this$props7.selectedOptions,\n          singleSelection = _this$props7.singleSelection;\n      var searchValue = this.state.searchValue; // React 16.3 has a bug (fixed in 16.4) where getDerivedStateFromProps\n      // isn't called after a state change, and we track `searchValue` in state\n      // instead we need to react to a change in searchValue here\n\n      this.updateMatchingOptionsIfDifferent(getMatchingOptions(options, selectedOptions, searchValue, this.props.async, singleSelection));\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this._isMounted = false;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var _this$props8 = this.props,\n          id = _this$props8.id,\n          isDisabled = _this$props8.isDisabled,\n          className = _this$props8.className,\n          isLoading = _this$props8.isLoading,\n          options = _this$props8.options,\n          selectedOptions = _this$props8.selectedOptions,\n          onCreateOption = _this$props8.onCreateOption,\n          placeholder = _this$props8.placeholder,\n          noSuggestions = _this$props8.noSuggestions,\n          renderOption = _this$props8.renderOption,\n          singleSelection = _this$props8.singleSelection,\n          onChange = _this$props8.onChange,\n          onSearchChange = _this$props8.onSearchChange,\n          async = _this$props8.async,\n          onBlur = _this$props8.onBlur,\n          inputRef = _this$props8.inputRef,\n          isInvalid = _this$props8.isInvalid,\n          rowHeight = _this$props8.rowHeight,\n          isClearable = _this$props8.isClearable,\n          fullWidth = _this$props8.fullWidth,\n          compressed = _this$props8.compressed,\n          dataTestSubj = _this$props8['data-test-subj'],\n          rest = _objectWithoutProperties(_this$props8, [\"id\", \"isDisabled\", \"className\", \"isLoading\", \"options\", \"selectedOptions\", \"onCreateOption\", \"placeholder\", \"noSuggestions\", \"renderOption\", \"singleSelection\", \"onChange\", \"onSearchChange\", \"async\", \"onBlur\", \"inputRef\", \"isInvalid\", \"rowHeight\", \"isClearable\", \"fullWidth\", \"compressed\", \"data-test-subj\"]);\n\n      var _this$state3 = this.state,\n          hasFocus = _this$state3.hasFocus,\n          searchValue = _this$state3.searchValue,\n          isListOpen = _this$state3.isListOpen,\n          listPosition = _this$state3.listPosition,\n          width = _this$state3.width,\n          activeOptionIndex = _this$state3.activeOptionIndex; // Visually indicate the combobox is in an invalid state if it has lost focus but there is text entered in the input.\n      // When custom options are disabled and the user leaves the combo box after entering text that does not match any\n      // options, this tells the user that they've entered invalid input.\n\n      var markAsInvalid = isInvalid || (hasFocus === false || isListOpen === false) && searchValue;\n      var classes = classNames('euiComboBox', className, {\n        'euiComboBox-isOpen': isListOpen,\n        'euiComboBox-isInvalid': markAsInvalid,\n        'euiComboBox-isDisabled': isDisabled,\n        'euiComboBox--fullWidth': fullWidth,\n        'euiComboBox--compressed': compressed\n      });\n      var value = selectedOptions.map(function (selectedOption) {\n        return selectedOption.label;\n      }).join(', ');\n      var optionsList;\n\n      if (!noSuggestions && isListOpen) {\n        var optionsListDataTestSubj = dataTestSubj ? \"\".concat(dataTestSubj, \"-optionsList\") : undefined;\n        optionsList = React.createElement(EuiPortal, null, React.createElement(EuiComboBoxOptionsList, {\n          isLoading: isLoading,\n          options: options,\n          selectedOptions: selectedOptions,\n          onCreateOption: onCreateOption,\n          searchValue: searchValue,\n          matchingOptions: this.state.matchingOptions,\n          activeOptionIndex: this.state.activeOptionIndex,\n          listRef: this.optionsListRef,\n          optionRef: this.optionRef,\n          onOptionClick: this.onOptionClick,\n          onOptionEnterKey: this.onOptionEnterKey,\n          areAllOptionsSelected: this.areAllOptionsSelected(),\n          getSelectedOptionForSearchValue: getSelectedOptionForSearchValue,\n          updatePosition: this.updateListPosition,\n          position: listPosition,\n          renderOption: renderOption,\n          width: width,\n          scrollToIndex: activeOptionIndex,\n          rowHeight: rowHeight,\n          \"data-test-subj\": optionsListDataTestSubj,\n          fullWidth: fullWidth,\n          rootId: this.rootId,\n          onCloseList: this.closeList,\n          onScroll: function onScroll() {\n            return _this3.searchInput.focus();\n          }\n        }));\n      }\n\n      return (\n        /**\n         * Re: jsx-a11y/interactive-supports-focus\n         * Focus is managed and is placed on the textbox element (`EuiComboBoxInput`)\n         *\n         * Re: jsx-a11y/role-has-required-aria-props\n         * Expansion is managed and required `aria-controls` prop is placed on the textbox element (`EuiComboBoxInput`)\n         *\n         * Reference for both: https://www.w3.org/TR/2017/REC-wai-aria-1.1-20171214/#combobox,\n         * which verifies that this implementation follows the spec.\n         */\n        // eslint-disable-next-line jsx-a11y/interactive-supports-focus\n        React.createElement(\"div\", _extends({}, rest, {\n          className: classes,\n          onKeyDown: this.onKeyDown,\n          ref: this.comboBoxRef,\n          \"data-test-subj\": dataTestSubj,\n          role: \"combobox\",\n          \"aria-haspopup\": \"listbox\",\n          \"aria-expanded\": isListOpen\n        }), React.createElement(EuiComboBoxInput, {\n          id: id,\n          placeholder: placeholder,\n          selectedOptions: selectedOptions,\n          onRemoveOption: this.onRemoveOption,\n          onClick: this.onComboBoxClick,\n          onChange: this.onSearchChange,\n          onFocus: this.onComboBoxFocus,\n          value: value,\n          searchValue: searchValue,\n          autoSizeInputRef: this.autoSizeInputRef,\n          inputRef: this.searchInputRef,\n          updatePosition: this.updateListPosition,\n          onClear: isClearable && !isDisabled ? this.clearSelectedOptions : undefined,\n          hasSelectedOptions: selectedOptions.length > 0,\n          isListOpen: isListOpen,\n          onOpenListClick: this.onOpenListClick,\n          onCloseListClick: this.onCloseListClick,\n          singleSelection: singleSelection,\n          isDisabled: isDisabled,\n          toggleButtonRef: this.toggleButtonRef,\n          fullWidth: fullWidth,\n          noIcon: !!noSuggestions,\n          rootId: this.rootId,\n          focusedOptionId: this.hasActiveOption() ? this.rootId(\"_option-\".concat(this.state.activeOptionIndex)) : null,\n          compressed: compressed\n        }), optionsList)\n      );\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(nextProps, prevState) {\n      var options = nextProps.options,\n          selectedOptions = nextProps.selectedOptions,\n          singleSelection = nextProps.singleSelection;\n      var activeOptionIndex = prevState.activeOptionIndex,\n          searchValue = prevState.searchValue; // Calculate and cache the options which match the searchValue, because we use this information\n      // in multiple places and it would be expensive to calculate repeatedly.\n\n      var matchingOptions = getMatchingOptions(options, selectedOptions, searchValue, nextProps.async, singleSelection);\n      var stateUpdate = {\n        matchingOptions: matchingOptions\n      };\n\n      if (activeOptionIndex >= matchingOptions.length) {\n        stateUpdate.activeOptionIndex = -1;\n      }\n\n      return stateUpdate;\n    }\n  }]);\n\n  return EuiComboBox;\n}(Component);\n\n_defineProperty(EuiComboBox, \"propTypes\", {\n  id: PropTypes.string,\n  isDisabled: PropTypes.bool,\n  className: PropTypes.string,\n  placeholder: PropTypes.string,\n  isLoading: PropTypes.bool,\n  async: PropTypes.bool,\n  singleSelection: PropTypes.oneOfType([PropTypes.bool, PropTypes.shape({\n    asPlainText: PropTypes.bool\n  })]),\n  noSuggestions: PropTypes.bool,\n  options: PropTypes.array,\n  selectedOptions: PropTypes.array,\n  onBlur: PropTypes.func,\n  onChange: PropTypes.func,\n  onFocus: PropTypes.func,\n  onSearchChange: PropTypes.func,\n  onCreateOption: PropTypes.func,\n  renderOption: PropTypes.func,\n  isInvalid: PropTypes.bool,\n  rowHeight: PropTypes.number,\n  isClearable: PropTypes.bool,\n  fullWidth: PropTypes.bool,\n  compressed: PropTypes.bool,\n  inputRef: PropTypes.func\n});\n\n_defineProperty(EuiComboBox, \"defaultProps\", {\n  options: [],\n  selectedOptions: [],\n  isClearable: true,\n  singleSelection: false,\n  fullWidth: false,\n  compressed: false\n});\n\nEuiComboBox.__docgenInfo = {\n  \"description\": \"\",\n  \"methods\": [{\n    \"name\": \"openList\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [],\n    \"returns\": null\n  }, {\n    \"name\": \"closeList\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [],\n    \"returns\": null\n  }, {\n    \"name\": \"updateListPosition\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [{\n      \"name\": \"listElement\",\n      \"type\": null\n    }],\n    \"returns\": null\n  }, {\n    \"name\": \"incrementActiveOptionIndex\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [{\n      \"name\": \"amount\",\n      \"type\": null\n    }],\n    \"returns\": null\n  }, {\n    \"name\": \"hasActiveOption\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [],\n    \"returns\": null\n  }, {\n    \"name\": \"clearActiveOption\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [],\n    \"returns\": null\n  }, {\n    \"name\": \"clearSearchValue\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [],\n    \"returns\": null\n  }, {\n    \"name\": \"removeLastOption\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [],\n    \"returns\": null\n  }, {\n    \"name\": \"addCustomOption\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [{\n      \"name\": \"isContainerBlur\",\n      \"type\": null\n    }],\n    \"returns\": null\n  }, {\n    \"name\": \"doesSearchMatchOnlyOption\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [],\n    \"returns\": null\n  }, {\n    \"name\": \"areAllOptionsSelected\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [],\n    \"returns\": null\n  }, {\n    \"name\": \"isSingleSelectionCustomOption\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [],\n    \"returns\": null\n  }, {\n    \"name\": \"onComboBoxFocus\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [],\n    \"returns\": null\n  }, {\n    \"name\": \"onContainerBlur\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [{\n      \"name\": \"e\",\n      \"type\": null\n    }],\n    \"returns\": null\n  }, {\n    \"name\": \"onKeyDown\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [{\n      \"name\": \"e\",\n      \"type\": null\n    }],\n    \"returns\": null\n  }, {\n    \"name\": \"onOptionEnterKey\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [{\n      \"name\": \"option\",\n      \"type\": null\n    }],\n    \"returns\": null\n  }, {\n    \"name\": \"onOptionClick\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [{\n      \"name\": \"option\",\n      \"type\": null\n    }],\n    \"returns\": null\n  }, {\n    \"name\": \"onAddOption\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [{\n      \"name\": \"addedOption\",\n      \"type\": null\n    }, {\n      \"name\": \"isContainerBlur\",\n      \"type\": null\n    }],\n    \"returns\": null\n  }, {\n    \"name\": \"onRemoveOption\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [{\n      \"name\": \"removedOption\",\n      \"type\": null\n    }],\n    \"returns\": null\n  }, {\n    \"name\": \"clearSelectedOptions\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [],\n    \"returns\": null\n  }, {\n    \"name\": \"onComboBoxClick\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [],\n    \"returns\": null\n  }, {\n    \"name\": \"onOpenListClick\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [],\n    \"returns\": null\n  }, {\n    \"name\": \"onCloseListClick\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [],\n    \"returns\": null\n  }, {\n    \"name\": \"onSearchChange\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [{\n      \"name\": \"searchValue\",\n      \"type\": null\n    }],\n    \"returns\": null\n  }, {\n    \"name\": \"comboBoxRef\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [{\n      \"name\": \"node\",\n      \"type\": null\n    }],\n    \"returns\": null\n  }, {\n    \"name\": \"autoSizeInputRef\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [{\n      \"name\": \"node\",\n      \"type\": null\n    }],\n    \"returns\": null\n  }, {\n    \"name\": \"searchInputRef\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [{\n      \"name\": \"node\",\n      \"type\": null\n    }],\n    \"returns\": null\n  }, {\n    \"name\": \"optionsListRef\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [{\n      \"name\": \"node\",\n      \"type\": null\n    }],\n    \"returns\": null\n  }, {\n    \"name\": \"optionRef\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [{\n      \"name\": \"index\",\n      \"type\": null\n    }, {\n      \"name\": \"node\",\n      \"type\": null\n    }],\n    \"returns\": null\n  }, {\n    \"name\": \"toggleButtonRef\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [{\n      \"name\": \"node\",\n      \"type\": null\n    }],\n    \"returns\": null\n  }, {\n    \"name\": \"updateMatchingOptionsIfDifferent\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [{\n      \"name\": \"newMatchingOptions\",\n      \"type\": null\n    }],\n    \"returns\": null\n  }],\n  \"displayName\": \"EuiComboBox\",\n  \"props\": {\n    \"options\": {\n      \"defaultValue\": {\n        \"value\": \"[]\",\n        \"computed\": false\n      },\n      \"type\": {\n        \"name\": \"array\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"selectedOptions\": {\n      \"defaultValue\": {\n        \"value\": \"[]\",\n        \"computed\": false\n      },\n      \"type\": {\n        \"name\": \"array\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"isClearable\": {\n      \"defaultValue\": {\n        \"value\": \"true\",\n        \"computed\": false\n      },\n      \"type\": {\n        \"name\": \"bool\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"singleSelection\": {\n      \"defaultValue\": {\n        \"value\": \"false\",\n        \"computed\": false\n      },\n      \"type\": {\n        \"name\": \"union\",\n        \"value\": [{\n          \"name\": \"bool\"\n        }, {\n          \"name\": \"shape\",\n          \"value\": {\n            \"asPlainText\": {\n              \"name\": \"bool\",\n              \"required\": false\n            }\n          }\n        }]\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"fullWidth\": {\n      \"defaultValue\": {\n        \"value\": \"false\",\n        \"computed\": false\n      },\n      \"type\": {\n        \"name\": \"bool\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"compressed\": {\n      \"defaultValue\": {\n        \"value\": \"false\",\n        \"computed\": false\n      },\n      \"type\": {\n        \"name\": \"bool\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"id\": {\n      \"type\": {\n        \"name\": \"string\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"isDisabled\": {\n      \"type\": {\n        \"name\": \"bool\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"className\": {\n      \"type\": {\n        \"name\": \"string\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"placeholder\": {\n      \"type\": {\n        \"name\": \"string\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"isLoading\": {\n      \"type\": {\n        \"name\": \"bool\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"async\": {\n      \"type\": {\n        \"name\": \"bool\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"noSuggestions\": {\n      \"type\": {\n        \"name\": \"bool\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"onBlur\": {\n      \"type\": {\n        \"name\": \"func\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"onChange\": {\n      \"type\": {\n        \"name\": \"func\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"onFocus\": {\n      \"type\": {\n        \"name\": \"func\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"onSearchChange\": {\n      \"type\": {\n        \"name\": \"func\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"onCreateOption\": {\n      \"type\": {\n        \"name\": \"func\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"renderOption\": {\n      \"type\": {\n        \"name\": \"func\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"isInvalid\": {\n      \"type\": {\n        \"name\": \"bool\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"rowHeight\": {\n      \"type\": {\n        \"name\": \"number\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"inputRef\": {\n      \"type\": {\n        \"name\": \"func\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    }\n  }\n};","map":{"version":3,"sources":["/home/ad.rapidops.com/jaymin.shah/project/demostruct/node_modules/@elastic/eui/es/components/combo_box/combo_box.js"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","_extends","Object","assign","target","i","arguments","length","source","key","hasOwnProperty","call","apply","_objectWithoutProperties","excluded","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","indexOf","propertyIsEnumerable","sourceKeys","keys","_classCallCheck","instance","Constructor","TypeError","_defineProperties","props","descriptor","enumerable","configurable","writable","defineProperty","_createClass","protoProps","staticProps","_possibleConstructorReturn","self","_assertThisInitialized","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","ReferenceError","_inherits","subClass","superClass","create","value","_setPrototypeOf","p","_defineProperty","React","Component","PropTypes","classNames","comboBoxKeyCodes","findPopoverPosition","htmlIdGenerator","BACKSPACE","TAB","ESCAPE","EuiPortal","EuiComboBoxInput","EuiComboBoxOptionsList","getMatchingOptions","flattenOptionGroups","getSelectedOptionForSearchValue","EuiComboBox","_Component","_this","setState","isListOpen","clearActiveOption","listElement","undefined","state","_isMounted","listElementBounds","getBoundingClientRect","width","height","comboBoxBounds","comboBox","_findPopoverPosition","anchor","popover","position","allowCrossAxis","top","optionsList","style","concat","left","window","pageXOffset","listPosition","amount","matchingOptions","_ref","activeOptionIndex","nextActiveOptionIndex","direction","isGroupLabelOption","onSearchChange","selectedOptions","searchValue","onRemoveOption","singleSelection","openList","isContainerBlur","_this$props","options","onCreateOption","_this$state","doesSearchMatchOnlyOption","onAddOption","isOptionCreated","clearSearchValue","isSingleSelectionCustomOption","closeList","label","toLowerCase","_this$props2","async","_this$props3","includes","onFocus","hasFocus","e","relatedTarget","explicitOriginalTarget","focusedInOptionsList","contains","focusedInInput","onBlur","hasActiveOption","addCustomOption","keyCode","UP","preventDefault","stopPropagation","incrementActiveOptionIndex","DOWN","removeLastOption","ENTER","onKeyDown","option","addedOption","disabled","_this$props4","onChange","searchInput","focus","requestAnimationFrame","removedOption","_this$props5","filter","hasMatchingOptions","node","removeEventListener","onContainerBlur","addEventListener","autoSizeInput","inputRef","index","toggleButton","initialSearchValue","_options","_selectedOptions","_singleSelection","rootId","componentDidMount","_this2","setTimeout","copyInputStyles","updateMatchingOptionsIfDifferent","newMatchingOptions","_this$state2","_this$props6","areOptionsDifferent","componentDidUpdate","_this$props7","componentWillUnmount","render","_this3","_this$props8","id","isDisabled","className","isLoading","placeholder","noSuggestions","renderOption","isInvalid","rowHeight","isClearable","fullWidth","compressed","dataTestSubj","rest","_this$state3","markAsInvalid","classes","map","selectedOption","join","optionsListDataTestSubj","createElement","listRef","optionsListRef","optionRef","onOptionClick","onOptionEnterKey","areAllOptionsSelected","updatePosition","updateListPosition","scrollToIndex","onCloseList","onScroll","ref","comboBoxRef","role","onClick","onComboBoxClick","onComboBoxFocus","autoSizeInputRef","searchInputRef","onClear","clearSelectedOptions","hasSelectedOptions","onOpenListClick","onCloseListClick","toggleButtonRef","noIcon","focusedOptionId","getDerivedStateFromProps","nextProps","prevState","stateUpdate","string","bool","oneOfType","shape","asPlainText","array","func","number","__docgenInfo"],"mappings":"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","sourcesContent":["function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/**\n * Elements within EuiComboBox which would normally be tabbable (inputs, buttons) have been removed\n * from the tab order with tabindex=\"-1\" so that we can control the keyboard navigation interface.\n */\n\n/* eslint-disable jsx-a11y/role-has-required-aria-props */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { comboBoxKeyCodes, findPopoverPosition, htmlIdGenerator } from '../../services';\nimport { BACKSPACE, TAB, ESCAPE } from '../../services/key_codes';\nimport { EuiPortal } from '../portal';\nimport { EuiComboBoxInput } from './combo_box_input';\nimport { EuiComboBoxOptionsList } from './combo_box_options_list';\nimport { getMatchingOptions, flattenOptionGroups, getSelectedOptionForSearchValue } from './matching_options';\nexport var EuiComboBox =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(EuiComboBox, _Component);\n\n  function EuiComboBox(props) {\n    var _this;\n\n    _classCallCheck(this, EuiComboBox);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(EuiComboBox).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"openList\", function () {\n      _this.setState({\n        isListOpen: true\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"closeList\", function () {\n      _this.clearActiveOption();\n\n      _this.setState({\n        isListOpen: false\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"updateListPosition\", function () {\n      var listElement = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _this.state.listElement;\n\n      if (!_this._isMounted) {\n        return;\n      }\n\n      if (!_this.state.isListOpen) {\n        return;\n      }\n\n      if (!listElement) {\n        return;\n      } // it's possible that updateListPosition is called when listElement is becoming visible, but isn't yet\n\n\n      var listElementBounds = listElement.getBoundingClientRect();\n\n      if (listElementBounds.width === 0 || listElementBounds.height === 0) {\n        return;\n      }\n\n      var comboBoxBounds = _this.comboBox.getBoundingClientRect();\n\n      var _findPopoverPosition = findPopoverPosition({\n        anchor: _this.comboBox,\n        popover: listElement,\n        position: 'bottom',\n        allowCrossAxis: false\n      }),\n          position = _findPopoverPosition.position,\n          top = _findPopoverPosition.top;\n\n      _this.optionsList.style.top = \"\".concat(top, \"px\"); // listElement doesn't have its width set until after updating the position\n      // which means the popover service won't know about the correct width\n      // however, we already know where to position the element\n\n      _this.optionsList.style.left = \"\".concat(comboBoxBounds.left + window.pageXOffset, \"px\");\n      _this.optionsList.style.width = \"\".concat(comboBoxBounds.width, \"px\"); // Cache for future calls.\n\n      _this.setState({\n        listElement: listElement,\n        width: comboBoxBounds.width,\n        listPosition: position\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"incrementActiveOptionIndex\", function (amount) {\n      // If there are no options available, do nothing.\n      if (!_this.state.matchingOptions.length) {\n        return;\n      }\n\n      _this.setState(function (_ref) {\n        var activeOptionIndex = _ref.activeOptionIndex,\n            matchingOptions = _ref.matchingOptions;\n        var nextActiveOptionIndex;\n\n        if (activeOptionIndex < 0) {\n          // If this is the beginning of the user's keyboard navigation of the menu, then we'll focus\n          // either the first or last item.\n          nextActiveOptionIndex = amount < 0 ? matchingOptions.length - 1 : 0;\n        } else {\n          nextActiveOptionIndex = activeOptionIndex + amount;\n\n          if (nextActiveOptionIndex < 0) {\n            nextActiveOptionIndex = matchingOptions.length - 1;\n          } else if (nextActiveOptionIndex === matchingOptions.length) {\n            nextActiveOptionIndex = 0;\n          }\n        } // Group titles are included in option list but are not selectable\n        // Skip group title options\n\n\n        var direction = amount > 0 ? 1 : -1;\n\n        while (matchingOptions[nextActiveOptionIndex].isGroupLabelOption) {\n          nextActiveOptionIndex = nextActiveOptionIndex + direction;\n\n          if (nextActiveOptionIndex < 0) {\n            nextActiveOptionIndex = matchingOptions.length - 1;\n          } else if (nextActiveOptionIndex === matchingOptions.length) {\n            nextActiveOptionIndex = 0;\n          }\n        }\n\n        return {\n          activeOptionIndex: nextActiveOptionIndex\n        };\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"hasActiveOption\", function () {\n      return _this.state.activeOptionIndex > -1 && _this.state.activeOptionIndex < _this.state.matchingOptions.length;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"clearActiveOption\", function () {\n      _this.setState({\n        activeOptionIndex: -1\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"clearSearchValue\", function () {\n      _this.onSearchChange('');\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"removeLastOption\", function () {\n      if (!_this.props.selectedOptions.length) {\n        return;\n      } // Backspace will be used to delete the input, not a pill.\n\n\n      if (_this.state.searchValue.length) {\n        return;\n      } // Delete last pill.\n\n\n      _this.onRemoveOption(_this.props.selectedOptions[_this.props.selectedOptions.length - 1]);\n\n      if (_this.props.singleSelection && !_this.state.isListOpen) {\n        _this.openList();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"addCustomOption\", function (isContainerBlur) {\n      var _this$props = _this.props,\n          options = _this$props.options,\n          selectedOptions = _this$props.selectedOptions,\n          onCreateOption = _this$props.onCreateOption,\n          singleSelection = _this$props.singleSelection;\n      var _this$state = _this.state,\n          searchValue = _this$state.searchValue,\n          matchingOptions = _this$state.matchingOptions;\n\n      if (_this.doesSearchMatchOnlyOption()) {\n        _this.onAddOption(matchingOptions[0], isContainerBlur);\n\n        return;\n      }\n\n      if (!onCreateOption) {\n        return;\n      } // Don't bother trying to create an option if the user hasn't typed anything.\n\n\n      if (!searchValue) {\n        return;\n      } // Don't create the value if it's already been selected.\n\n\n      if (getSelectedOptionForSearchValue(searchValue, selectedOptions)) {\n        return;\n      } // Add new custom pill if this is custom input, even if it partially matches an option..\n\n\n      var isOptionCreated = _this.props.onCreateOption(searchValue, flattenOptionGroups(options)); // Expect the consumer to be explicit in rejecting a custom option.\n\n\n      if (isOptionCreated === false) {\n        return;\n      }\n\n      _this.clearSearchValue();\n\n      if (_this.isSingleSelectionCustomOption() || singleSelection && matchingOptions.length < 1) {\n        // Adding a custom option to a single select that does not appear in the list of options\n        _this.closeList();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"doesSearchMatchOnlyOption\", function () {\n      var searchValue = _this.state.searchValue;\n\n      if (_this.state.matchingOptions.length !== 1) {\n        return false;\n      }\n\n      return _this.state.matchingOptions[0].label.toLowerCase() === searchValue.toLowerCase();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"areAllOptionsSelected\", function () {\n      var _this$props2 = _this.props,\n          options = _this$props2.options,\n          selectedOptions = _this$props2.selectedOptions,\n          async = _this$props2.async; // Assume if this is async then there could be infinite options.\n\n      if (async) {\n        return false;\n      }\n\n      return flattenOptionGroups(options).length === selectedOptions.length;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"isSingleSelectionCustomOption\", function () {\n      var _this$props3 = _this.props,\n          onCreateOption = _this$props3.onCreateOption,\n          options = _this$props3.options,\n          selectedOptions = _this$props3.selectedOptions,\n          singleSelection = _this$props3.singleSelection; // The selected option of a single select is custom and does not appear in the list of options\n\n      return singleSelection && onCreateOption && selectedOptions.length > 0 && !options.includes(selectedOptions[0]);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onComboBoxFocus\", function () {\n      if (_this.props.onFocus) {\n        _this.props.onFocus();\n      }\n\n      if (!_this.isSingleSelectionCustomOption()) {\n        _this.openList();\n      }\n\n      _this.setState({\n        hasFocus: true\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onContainerBlur\", function (e) {\n      // close the options list, unless the use clicked on an option\n      // FireFox returns `relatedTarget` as `null` for security reasons, but provides a proprietary `explicitOriginalTarget`\n      var relatedTarget = e.relatedTarget || e.explicitOriginalTarget;\n\n      var focusedInOptionsList = relatedTarget && _this.optionsList && _this.optionsList.contains(relatedTarget);\n\n      var focusedInInput = relatedTarget && _this.comboBox && _this.comboBox.contains(relatedTarget);\n\n      if (!focusedInOptionsList && !focusedInInput) {\n        _this.closeList();\n\n        if (_this.props.onBlur) {\n          _this.props.onBlur();\n        }\n\n        _this.setState({\n          hasFocus: false\n        }); // If the user tabs away or changes focus to another element, take whatever input they've\n        // typed and convert it into a pill, to prevent the combo box from looking like a text input.\n\n\n        if (!_this.hasActiveOption()) {\n          _this.addCustomOption(true);\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onKeyDown\", function (e) {\n      switch (e.keyCode) {\n        case comboBoxKeyCodes.UP:\n          e.preventDefault();\n          e.stopPropagation();\n\n          if (_this.state.isListOpen) {\n            _this.incrementActiveOptionIndex(-1);\n          } else {\n            _this.openList();\n          }\n\n          break;\n\n        case comboBoxKeyCodes.DOWN:\n          e.preventDefault();\n          e.stopPropagation();\n\n          if (_this.state.isListOpen) {\n            _this.incrementActiveOptionIndex(1);\n          } else {\n            _this.openList();\n          }\n\n          break;\n\n        case BACKSPACE:\n          e.stopPropagation();\n\n          _this.removeLastOption();\n\n          break;\n\n        case ESCAPE:\n          e.stopPropagation();\n\n          _this.closeList();\n\n          break;\n\n        case comboBoxKeyCodes.ENTER:\n          e.preventDefault();\n          e.stopPropagation();\n\n          if (_this.hasActiveOption()) {\n            _this.onAddOption(_this.state.matchingOptions[_this.state.activeOptionIndex]);\n          } else {\n            _this.addCustomOption();\n          }\n\n          break;\n\n        case TAB:\n          // Disallow tabbing when the user is navigating the options.\n          if (_this.hasActiveOption() && _this.state.isListOpen) {\n            e.preventDefault();\n            e.stopPropagation();\n          }\n\n          break;\n\n        default:\n          if (_this.props.onKeyDown) {\n            _this.props.onKeyDown(e);\n          }\n\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onOptionEnterKey\", function (option) {\n      _this.onAddOption(option);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onOptionClick\", function (option) {\n      _this.onAddOption(option);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onAddOption\", function (addedOption, isContainerBlur) {\n      if (addedOption.disabled) {\n        return;\n      }\n\n      var _this$props4 = _this.props,\n          onChange = _this$props4.onChange,\n          selectedOptions = _this$props4.selectedOptions,\n          singleSelection = _this$props4.singleSelection;\n      onChange(singleSelection ? [addedOption] : selectedOptions.concat(addedOption));\n\n      _this.clearSearchValue();\n\n      _this.clearActiveOption();\n\n      if (!isContainerBlur) {\n        _this.searchInput.focus();\n      }\n\n      if (singleSelection) {\n        requestAnimationFrame(_this.closeList);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onRemoveOption\", function (removedOption) {\n      var _this$props5 = _this.props,\n          onChange = _this$props5.onChange,\n          selectedOptions = _this$props5.selectedOptions;\n      onChange(selectedOptions.filter(function (option) {\n        return option !== removedOption;\n      }));\n\n      _this.clearActiveOption();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"clearSelectedOptions\", function () {\n      _this.props.onChange([]); // Clicking the clear button will also cause it to disappear. This would result in focus\n      // shifting unexpectedly to the body element so we set it to the input which is more reasonable,\n\n\n      _this.searchInput.focus();\n\n      if (!_this.state.isListOpen) {\n        _this.openList();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onComboBoxClick\", function () {\n      // When the user clicks anywhere on the box, enter the interaction state.\n      _this.searchInput.focus(); // If the user does this from a state in which an option has focus, then we need to reset it or clear it.\n\n\n      if (_this.props.singleSelection && _this.props.selectedOptions.length === 1) {\n        _this.setState({\n          activeOptionIndex: _this.state.matchingOptions.indexOf(_this.props.selectedOptions[0])\n        });\n      } else {\n        _this.clearActiveOption();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onOpenListClick\", function () {\n      _this.searchInput.focus();\n\n      if (!_this.state.isListOpen) {\n        _this.openList();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onCloseListClick\", function () {\n      _this.closeList();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSearchChange\", function (searchValue) {\n      if (_this.props.onSearchChange) {\n        var hasMatchingOptions = _this.state.matchingOptions.length > 0;\n\n        _this.props.onSearchChange(searchValue, hasMatchingOptions);\n      }\n\n      _this.setState({\n        searchValue: searchValue\n      }, function () {\n        if (searchValue && _this.state.isListOpen === false) _this.openList();\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"comboBoxRef\", function (node) {\n      // IE11 doesn't support the `relatedTarget` event property for blur events\n      // but does add it for focusout. React doesn't support `onFocusOut` so here we are.\n      if (_this.comboBox != null) {\n        _this.comboBox.removeEventListener('focusout', _this.onContainerBlur);\n      }\n\n      _this.comboBox = node;\n\n      if (_this.comboBox) {\n        _this.comboBox.addEventListener('focusout', _this.onContainerBlur);\n\n        var comboBoxBounds = _this.comboBox.getBoundingClientRect();\n\n        _this.setState({\n          width: comboBoxBounds.width\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"autoSizeInputRef\", function (node) {\n      _this.autoSizeInput = node;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"searchInputRef\", function (node) {\n      _this.searchInput = node;\n\n      if (_this.props.inputRef) {\n        _this.props.inputRef(node);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"optionsListRef\", function (node) {\n      _this.optionsList = node;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"optionRef\", function (index, node) {\n      _this.options[index] = node;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"toggleButtonRef\", function (node) {\n      _this.toggleButton = node;\n    });\n\n    var initialSearchValue = '';\n    var _options = props.options,\n        _selectedOptions = props.selectedOptions,\n        _singleSelection = props.singleSelection;\n    _this.state = {\n      matchingOptions: getMatchingOptions(_options, _selectedOptions, initialSearchValue, props.async, _singleSelection),\n      listElement: undefined,\n      searchValue: initialSearchValue,\n      isListOpen: false,\n      listPosition: 'bottom',\n      activeOptionIndex: -1,\n      hasFocus: false\n    };\n    _this.rootId = htmlIdGenerator(); // Refs.\n\n    _this.comboBox = undefined;\n    _this.autoSizeInput = undefined;\n    _this.searchInput = undefined;\n    _this.optionsList = undefined;\n    _this.options = [];\n    return _this;\n  }\n\n  _createClass(EuiComboBox, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this._isMounted = true; // TODO: This will need to be called once the actual stylesheet loads.\n\n      setTimeout(function () {\n        if (_this2.autoSizeInput) {\n          _this2.autoSizeInput.copyInputStyles();\n        }\n      }, 100);\n    }\n  }, {\n    key: \"updateMatchingOptionsIfDifferent\",\n    value: function updateMatchingOptionsIfDifferent(newMatchingOptions) {\n      var _this$state2 = this.state,\n          matchingOptions = _this$state2.matchingOptions,\n          activeOptionIndex = _this$state2.activeOptionIndex;\n      var _this$props6 = this.props,\n          singleSelection = _this$props6.singleSelection,\n          selectedOptions = _this$props6.selectedOptions;\n      var areOptionsDifferent = false;\n\n      if (matchingOptions.length !== newMatchingOptions.length) {\n        areOptionsDifferent = true;\n      } else {\n        for (var i = 0; i < matchingOptions.length; i++) {\n          if (matchingOptions[i].label !== newMatchingOptions[i].label) {\n            areOptionsDifferent = true;\n            break;\n          }\n        }\n      }\n\n      if (areOptionsDifferent) {\n        this.options = [];\n        var nextActiveOptionIndex = activeOptionIndex; // ensure that the currently selected single option is active if it is in the matchingOptions\n\n        if (singleSelection && selectedOptions.length === 1) {\n          if (newMatchingOptions.includes(selectedOptions[0])) {\n            nextActiveOptionIndex = newMatchingOptions.indexOf(selectedOptions[0]);\n          }\n        }\n\n        this.setState({\n          matchingOptions: newMatchingOptions,\n          activeOptionIndex: nextActiveOptionIndex\n        });\n\n        if (!newMatchingOptions.length) {\n          // Prevent endless setState -> componentWillUpdate -> setState loop.\n          if (this.hasActiveOption()) {\n            this.clearActiveOption();\n          }\n        }\n      }\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      var _this$props7 = this.props,\n          options = _this$props7.options,\n          selectedOptions = _this$props7.selectedOptions,\n          singleSelection = _this$props7.singleSelection;\n      var searchValue = this.state.searchValue; // React 16.3 has a bug (fixed in 16.4) where getDerivedStateFromProps\n      // isn't called after a state change, and we track `searchValue` in state\n      // instead we need to react to a change in searchValue here\n\n      this.updateMatchingOptionsIfDifferent(getMatchingOptions(options, selectedOptions, searchValue, this.props.async, singleSelection));\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this._isMounted = false;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var _this$props8 = this.props,\n          id = _this$props8.id,\n          isDisabled = _this$props8.isDisabled,\n          className = _this$props8.className,\n          isLoading = _this$props8.isLoading,\n          options = _this$props8.options,\n          selectedOptions = _this$props8.selectedOptions,\n          onCreateOption = _this$props8.onCreateOption,\n          placeholder = _this$props8.placeholder,\n          noSuggestions = _this$props8.noSuggestions,\n          renderOption = _this$props8.renderOption,\n          singleSelection = _this$props8.singleSelection,\n          onChange = _this$props8.onChange,\n          onSearchChange = _this$props8.onSearchChange,\n          async = _this$props8.async,\n          onBlur = _this$props8.onBlur,\n          inputRef = _this$props8.inputRef,\n          isInvalid = _this$props8.isInvalid,\n          rowHeight = _this$props8.rowHeight,\n          isClearable = _this$props8.isClearable,\n          fullWidth = _this$props8.fullWidth,\n          compressed = _this$props8.compressed,\n          dataTestSubj = _this$props8['data-test-subj'],\n          rest = _objectWithoutProperties(_this$props8, [\"id\", \"isDisabled\", \"className\", \"isLoading\", \"options\", \"selectedOptions\", \"onCreateOption\", \"placeholder\", \"noSuggestions\", \"renderOption\", \"singleSelection\", \"onChange\", \"onSearchChange\", \"async\", \"onBlur\", \"inputRef\", \"isInvalid\", \"rowHeight\", \"isClearable\", \"fullWidth\", \"compressed\", \"data-test-subj\"]);\n\n      var _this$state3 = this.state,\n          hasFocus = _this$state3.hasFocus,\n          searchValue = _this$state3.searchValue,\n          isListOpen = _this$state3.isListOpen,\n          listPosition = _this$state3.listPosition,\n          width = _this$state3.width,\n          activeOptionIndex = _this$state3.activeOptionIndex; // Visually indicate the combobox is in an invalid state if it has lost focus but there is text entered in the input.\n      // When custom options are disabled and the user leaves the combo box after entering text that does not match any\n      // options, this tells the user that they've entered invalid input.\n\n      var markAsInvalid = isInvalid || (hasFocus === false || isListOpen === false) && searchValue;\n      var classes = classNames('euiComboBox', className, {\n        'euiComboBox-isOpen': isListOpen,\n        'euiComboBox-isInvalid': markAsInvalid,\n        'euiComboBox-isDisabled': isDisabled,\n        'euiComboBox--fullWidth': fullWidth,\n        'euiComboBox--compressed': compressed\n      });\n      var value = selectedOptions.map(function (selectedOption) {\n        return selectedOption.label;\n      }).join(', ');\n      var optionsList;\n\n      if (!noSuggestions && isListOpen) {\n        var optionsListDataTestSubj = dataTestSubj ? \"\".concat(dataTestSubj, \"-optionsList\") : undefined;\n        optionsList = React.createElement(EuiPortal, null, React.createElement(EuiComboBoxOptionsList, {\n          isLoading: isLoading,\n          options: options,\n          selectedOptions: selectedOptions,\n          onCreateOption: onCreateOption,\n          searchValue: searchValue,\n          matchingOptions: this.state.matchingOptions,\n          activeOptionIndex: this.state.activeOptionIndex,\n          listRef: this.optionsListRef,\n          optionRef: this.optionRef,\n          onOptionClick: this.onOptionClick,\n          onOptionEnterKey: this.onOptionEnterKey,\n          areAllOptionsSelected: this.areAllOptionsSelected(),\n          getSelectedOptionForSearchValue: getSelectedOptionForSearchValue,\n          updatePosition: this.updateListPosition,\n          position: listPosition,\n          renderOption: renderOption,\n          width: width,\n          scrollToIndex: activeOptionIndex,\n          rowHeight: rowHeight,\n          \"data-test-subj\": optionsListDataTestSubj,\n          fullWidth: fullWidth,\n          rootId: this.rootId,\n          onCloseList: this.closeList,\n          onScroll: function onScroll() {\n            return _this3.searchInput.focus();\n          }\n        }));\n      }\n\n      return (\n        /**\n         * Re: jsx-a11y/interactive-supports-focus\n         * Focus is managed and is placed on the textbox element (`EuiComboBoxInput`)\n         *\n         * Re: jsx-a11y/role-has-required-aria-props\n         * Expansion is managed and required `aria-controls` prop is placed on the textbox element (`EuiComboBoxInput`)\n         *\n         * Reference for both: https://www.w3.org/TR/2017/REC-wai-aria-1.1-20171214/#combobox,\n         * which verifies that this implementation follows the spec.\n         */\n        // eslint-disable-next-line jsx-a11y/interactive-supports-focus\n        React.createElement(\"div\", _extends({}, rest, {\n          className: classes,\n          onKeyDown: this.onKeyDown,\n          ref: this.comboBoxRef,\n          \"data-test-subj\": dataTestSubj,\n          role: \"combobox\",\n          \"aria-haspopup\": \"listbox\",\n          \"aria-expanded\": isListOpen\n        }), React.createElement(EuiComboBoxInput, {\n          id: id,\n          placeholder: placeholder,\n          selectedOptions: selectedOptions,\n          onRemoveOption: this.onRemoveOption,\n          onClick: this.onComboBoxClick,\n          onChange: this.onSearchChange,\n          onFocus: this.onComboBoxFocus,\n          value: value,\n          searchValue: searchValue,\n          autoSizeInputRef: this.autoSizeInputRef,\n          inputRef: this.searchInputRef,\n          updatePosition: this.updateListPosition,\n          onClear: isClearable && !isDisabled ? this.clearSelectedOptions : undefined,\n          hasSelectedOptions: selectedOptions.length > 0,\n          isListOpen: isListOpen,\n          onOpenListClick: this.onOpenListClick,\n          onCloseListClick: this.onCloseListClick,\n          singleSelection: singleSelection,\n          isDisabled: isDisabled,\n          toggleButtonRef: this.toggleButtonRef,\n          fullWidth: fullWidth,\n          noIcon: !!noSuggestions,\n          rootId: this.rootId,\n          focusedOptionId: this.hasActiveOption() ? this.rootId(\"_option-\".concat(this.state.activeOptionIndex)) : null,\n          compressed: compressed\n        }), optionsList)\n      );\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(nextProps, prevState) {\n      var options = nextProps.options,\n          selectedOptions = nextProps.selectedOptions,\n          singleSelection = nextProps.singleSelection;\n      var activeOptionIndex = prevState.activeOptionIndex,\n          searchValue = prevState.searchValue; // Calculate and cache the options which match the searchValue, because we use this information\n      // in multiple places and it would be expensive to calculate repeatedly.\n\n      var matchingOptions = getMatchingOptions(options, selectedOptions, searchValue, nextProps.async, singleSelection);\n      var stateUpdate = {\n        matchingOptions: matchingOptions\n      };\n\n      if (activeOptionIndex >= matchingOptions.length) {\n        stateUpdate.activeOptionIndex = -1;\n      }\n\n      return stateUpdate;\n    }\n  }]);\n\n  return EuiComboBox;\n}(Component);\n\n_defineProperty(EuiComboBox, \"propTypes\", {\n  id: PropTypes.string,\n  isDisabled: PropTypes.bool,\n  className: PropTypes.string,\n  placeholder: PropTypes.string,\n  isLoading: PropTypes.bool,\n  async: PropTypes.bool,\n  singleSelection: PropTypes.oneOfType([PropTypes.bool, PropTypes.shape({\n    asPlainText: PropTypes.bool\n  })]),\n  noSuggestions: PropTypes.bool,\n  options: PropTypes.array,\n  selectedOptions: PropTypes.array,\n  onBlur: PropTypes.func,\n  onChange: PropTypes.func,\n  onFocus: PropTypes.func,\n  onSearchChange: PropTypes.func,\n  onCreateOption: PropTypes.func,\n  renderOption: PropTypes.func,\n  isInvalid: PropTypes.bool,\n  rowHeight: PropTypes.number,\n  isClearable: PropTypes.bool,\n  fullWidth: PropTypes.bool,\n  compressed: PropTypes.bool,\n  inputRef: PropTypes.func\n});\n\n_defineProperty(EuiComboBox, \"defaultProps\", {\n  options: [],\n  selectedOptions: [],\n  isClearable: true,\n  singleSelection: false,\n  fullWidth: false,\n  compressed: false\n});\n\nEuiComboBox.__docgenInfo = {\n  \"description\": \"\",\n  \"methods\": [{\n    \"name\": \"openList\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [],\n    \"returns\": null\n  }, {\n    \"name\": \"closeList\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [],\n    \"returns\": null\n  }, {\n    \"name\": \"updateListPosition\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [{\n      \"name\": \"listElement\",\n      \"type\": null\n    }],\n    \"returns\": null\n  }, {\n    \"name\": \"incrementActiveOptionIndex\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [{\n      \"name\": \"amount\",\n      \"type\": null\n    }],\n    \"returns\": null\n  }, {\n    \"name\": \"hasActiveOption\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [],\n    \"returns\": null\n  }, {\n    \"name\": \"clearActiveOption\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [],\n    \"returns\": null\n  }, {\n    \"name\": \"clearSearchValue\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [],\n    \"returns\": null\n  }, {\n    \"name\": \"removeLastOption\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [],\n    \"returns\": null\n  }, {\n    \"name\": \"addCustomOption\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [{\n      \"name\": \"isContainerBlur\",\n      \"type\": null\n    }],\n    \"returns\": null\n  }, {\n    \"name\": \"doesSearchMatchOnlyOption\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [],\n    \"returns\": null\n  }, {\n    \"name\": \"areAllOptionsSelected\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [],\n    \"returns\": null\n  }, {\n    \"name\": \"isSingleSelectionCustomOption\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [],\n    \"returns\": null\n  }, {\n    \"name\": \"onComboBoxFocus\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [],\n    \"returns\": null\n  }, {\n    \"name\": \"onContainerBlur\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [{\n      \"name\": \"e\",\n      \"type\": null\n    }],\n    \"returns\": null\n  }, {\n    \"name\": \"onKeyDown\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [{\n      \"name\": \"e\",\n      \"type\": null\n    }],\n    \"returns\": null\n  }, {\n    \"name\": \"onOptionEnterKey\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [{\n      \"name\": \"option\",\n      \"type\": null\n    }],\n    \"returns\": null\n  }, {\n    \"name\": \"onOptionClick\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [{\n      \"name\": \"option\",\n      \"type\": null\n    }],\n    \"returns\": null\n  }, {\n    \"name\": \"onAddOption\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [{\n      \"name\": \"addedOption\",\n      \"type\": null\n    }, {\n      \"name\": \"isContainerBlur\",\n      \"type\": null\n    }],\n    \"returns\": null\n  }, {\n    \"name\": \"onRemoveOption\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [{\n      \"name\": \"removedOption\",\n      \"type\": null\n    }],\n    \"returns\": null\n  }, {\n    \"name\": \"clearSelectedOptions\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [],\n    \"returns\": null\n  }, {\n    \"name\": \"onComboBoxClick\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [],\n    \"returns\": null\n  }, {\n    \"name\": \"onOpenListClick\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [],\n    \"returns\": null\n  }, {\n    \"name\": \"onCloseListClick\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [],\n    \"returns\": null\n  }, {\n    \"name\": \"onSearchChange\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [{\n      \"name\": \"searchValue\",\n      \"type\": null\n    }],\n    \"returns\": null\n  }, {\n    \"name\": \"comboBoxRef\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [{\n      \"name\": \"node\",\n      \"type\": null\n    }],\n    \"returns\": null\n  }, {\n    \"name\": \"autoSizeInputRef\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [{\n      \"name\": \"node\",\n      \"type\": null\n    }],\n    \"returns\": null\n  }, {\n    \"name\": \"searchInputRef\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [{\n      \"name\": \"node\",\n      \"type\": null\n    }],\n    \"returns\": null\n  }, {\n    \"name\": \"optionsListRef\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [{\n      \"name\": \"node\",\n      \"type\": null\n    }],\n    \"returns\": null\n  }, {\n    \"name\": \"optionRef\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [{\n      \"name\": \"index\",\n      \"type\": null\n    }, {\n      \"name\": \"node\",\n      \"type\": null\n    }],\n    \"returns\": null\n  }, {\n    \"name\": \"toggleButtonRef\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [{\n      \"name\": \"node\",\n      \"type\": null\n    }],\n    \"returns\": null\n  }, {\n    \"name\": \"updateMatchingOptionsIfDifferent\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [{\n      \"name\": \"newMatchingOptions\",\n      \"type\": null\n    }],\n    \"returns\": null\n  }],\n  \"displayName\": \"EuiComboBox\",\n  \"props\": {\n    \"options\": {\n      \"defaultValue\": {\n        \"value\": \"[]\",\n        \"computed\": false\n      },\n      \"type\": {\n        \"name\": \"array\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"selectedOptions\": {\n      \"defaultValue\": {\n        \"value\": \"[]\",\n        \"computed\": false\n      },\n      \"type\": {\n        \"name\": \"array\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"isClearable\": {\n      \"defaultValue\": {\n        \"value\": \"true\",\n        \"computed\": false\n      },\n      \"type\": {\n        \"name\": \"bool\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"singleSelection\": {\n      \"defaultValue\": {\n        \"value\": \"false\",\n        \"computed\": false\n      },\n      \"type\": {\n        \"name\": \"union\",\n        \"value\": [{\n          \"name\": \"bool\"\n        }, {\n          \"name\": \"shape\",\n          \"value\": {\n            \"asPlainText\": {\n              \"name\": \"bool\",\n              \"required\": false\n            }\n          }\n        }]\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"fullWidth\": {\n      \"defaultValue\": {\n        \"value\": \"false\",\n        \"computed\": false\n      },\n      \"type\": {\n        \"name\": \"bool\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"compressed\": {\n      \"defaultValue\": {\n        \"value\": \"false\",\n        \"computed\": false\n      },\n      \"type\": {\n        \"name\": \"bool\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"id\": {\n      \"type\": {\n        \"name\": \"string\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"isDisabled\": {\n      \"type\": {\n        \"name\": \"bool\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"className\": {\n      \"type\": {\n        \"name\": \"string\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"placeholder\": {\n      \"type\": {\n        \"name\": \"string\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"isLoading\": {\n      \"type\": {\n        \"name\": \"bool\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"async\": {\n      \"type\": {\n        \"name\": \"bool\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"noSuggestions\": {\n      \"type\": {\n        \"name\": \"bool\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"onBlur\": {\n      \"type\": {\n        \"name\": \"func\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"onChange\": {\n      \"type\": {\n        \"name\": \"func\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"onFocus\": {\n      \"type\": {\n        \"name\": \"func\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"onSearchChange\": {\n      \"type\": {\n        \"name\": \"func\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"onCreateOption\": {\n      \"type\": {\n        \"name\": \"func\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"renderOption\": {\n      \"type\": {\n        \"name\": \"func\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"isInvalid\": {\n      \"type\": {\n        \"name\": \"bool\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"rowHeight\": {\n      \"type\": {\n        \"name\": \"number\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"inputRef\": {\n      \"type\": {\n        \"name\": \"func\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    }\n  }\n};"]},"metadata":{},"sourceType":"module"}